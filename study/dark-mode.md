## CSS

- 미디어 쿼리로 구현하는 가장 최신의 다크 모드 구현 방법.
- 웹 브라우저의 다크 모드, 또는 **운영체제의 다크 모드와 연동되어 다크모드가 실행**되기 때문에 **대상 기기의 사용 환경과 일체화 되어 동작하는 장점**이 있지만, 내 웹사이트를 방문한 이용자가 선택에 따라 다크모드를 껏다 켰다 할 수 있도록 하려면 `JS` 로 핸들링 하도록 해야 하므로 별로 사용하지 않는 듯.

```css
@media (prefers-color-scheme: dark) {
    /* Your CSS */
}
```

사용자가 선호하는 테마에 따라 `light`  `dark` 가 적용됨.

- `light` : 라이트 테마
- `dark` : 다크 테마
- `no-preference` 선호하는 테마 없음.

## JS

- 테마 변경 기능이 필요할 때 사용. (ex: 버튼을 누르면 변경)

### 1. `matchMedia` 사용법

```jsx
window.matchMedia("(prefers-color-scheme: dark)").matches

// 사용법 예시.
// 사용자가 다크 테마를 설정/사용하고 있을 경우, html에 "dark"라는 클래스를 추가함.
if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
    document.documentElement.classList.add("dark");
}
```

- 미디어 쿼리를 사용할 수 있는 함수  `matchMedia` 를 사용하지만, 브라우저 크기를 줄인다고 css처럼 자동 적용이 되지 않으므로 `resize` 이벤트와 함께 사용해야 하는 번거로움이 있음.
- `body` 태그 안에 추가하면 렌더링을 차단하진 않지만, 사용자가 다크 테마를 사용해도 스크립트를 불러오기 전까진 밝은 배경이 보임.
- `head` 태그 내부에 추가하면 밝은 배경은 보이지 않지만, 렌더링을 차단함.

## HTML

### dataset으로 구현

클래스 명을 추가해서 표시하는 것과 비슷하지만,  `data-` 속성으로 클래스와는 별도로 구분되도록 함으로써 관리를 조금 더 쉽게 함.

```html
<body data-theme="dark">
 ...
</body>
```

`data-` 속성 값을 사용한 다크 모드 제어는 CSS로도 할 수 있고 자바스크립트로도 할 수 있음. 결과적으로 `data-` 속성 값으로 다크 모드를 구분할 뿐 코딩이 더 간결해지거나 하는 것은 딱히 없음.

하지만 구조적으로도 명확하게 다크 모드가 명시되고 호환성 문제도 없기 때문에 다크 모드를 적용할 때 이 방법을 가장 추천하는 듯?

---

## 다크 모드 옵션

### 메타 태그 `User Agent`

- 테마 토글 기능 없이 시스템의 테마를 따르면서 웹사이트를 제작할 때 추가하면 좋음.
- 아무것도 하지 않아도 브라우저에서 추가하는 `CSS(User Agent Stylesheet)` 가 시스템의 테마에 맞게 조정함.

```html
<meta name="color-scheme" content="dark light" />
```

### 다크 모드 디자인 색상

다크 모드는 눈을 편하게 하고자 사용한다는 것을 명심하며 `강렬하지 않은 색상` 을 사용해야 함.

1. **배경색**
    1. `#000` 을 쓰면 너무 새까매져서 가독성이 떨어지는 듯.
    2. `material Thema` 에서는 `#121212` 를 권고하고 대부분 `#121212~#363636` 사이의 색을 사용.
2. **글자색**
    1. `#fff` 은 너무 밝아서 **엄청나게** 강조하고 싶은 문구가 아니라면 피해야 함.
    2. 강조하고 싶은 텍스트 : `#f1f1f1`
    3. 일반 텍스트: `#bbb` 를 권장하지만, 더 밝은 글자색을 사용하기도 함.
    4. 배경색 `#121212` 를 기준으로 `#9f9f9f` 까지
